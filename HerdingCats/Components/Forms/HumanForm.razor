@using HerdingCats.Data.Model

<RadzenCard>
    <RadzenRow>
        <RadzenColumn>
            <RadzenStack Orientation=Orientation.Vertical>
                <RadzenLabel Component="txt_new_user_first_name" Text="First name" />
                <RadzenTextBox Name="txt_new_user_first_name" @bind-Value=_firstName />
            </RadzenStack>
            <RadzenStack Orientation=Orientation.Vertical>
                <RadzenLabel Component="txt_new_user_last_name" Text="Last name" />
                <RadzenTextBox Name="txt_new_user_last_name" @bind-Value=_lastName />
            </RadzenStack>
            <RadzenStack Orientation=Orientation.Vertical>
                <RadzenLabel Component="num_new_user_phone" Text="Telephone number" />
                <RadzenNumeric TValue=long Name="num_new_user_phone" @bind-Value=_phone />
            </RadzenStack>
            <RadzenButton Text="Add person" aria-label="Add person" Click=OnAddButtonClick />
        </RadzenColumn>
    </RadzenRow>
</RadzenCard>

@code
{
    [Parameter]
    [EditorRequired]
    public Func<Human, Task>? OnNewHuman { get; set; }

    private string _firstName = "";
    private string _lastName = "";
    private long _phone;

    private async Task OnAddButtonClick()
    {
        Human human = new()
        {
            FirstName = _firstName,
            LastName = _lastName,
            PhoneNumber = _phone.ToString()
        };
        await OnNewHuman!.Invoke(human);
    }
}